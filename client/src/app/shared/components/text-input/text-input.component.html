<div class="form-label-group mt-3 position-relative">
    <div
        class="fa fa-spinner fa-spin loader"
        *ngIf="
        controlDir && 
        controlDir.control && 
        controlDir.control.status === 'PENDING'"
    ></div>
    <label for="{{label}}">{{label}}</label>
    <input 
        #input 
        [ngClass]="(
            controlDir && 
            controlDir.control && 
            controlDir.control.touched) 
            ? !controlDir.control.valid
                ? 'is-invalid'
                : 'is-valid'
            : null"
        (blur)="onTouched()" 
        (input)="onChange($event.target.value)" 
        [type]="type" 
        class="form-control" 
        id="{{label}}" 
        placeholder="{{label}}"
    >
    <div class="invalid-feedback" *ngIf="(
        controlDir && 
        controlDir.control && 
        !controlDir.control.valid &&
        controlDir.control.touched)"
    >
        <span *ngIf="controlDir.control.errors?.required">{{label}} is required</span>
        <span *ngIf="controlDir.control.errors?.pattern">{{label}} is invalid</span>
    </div>
    <div class="invalid-feedback d-block" *ngIf="(
        controlDir && 
        controlDir.control && 
        !controlDir.control.valid &&
        controlDir.control.dirty)"
    >
        <span *ngIf="controlDir.control.errors?.emailNotAvailable">{{label}} is not available</span>
    </div>
</div>

